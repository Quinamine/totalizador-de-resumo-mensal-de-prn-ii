const armazenamento={salvarFicha(){for(let t=0;t<celulas_de_entrada.length;t++)celulas_de_entrada[t].addEventListener("input",()=>{localStorage.setItem(`trmprnii-cel${t}`,`${celulas_de_entrada[t].value}`)}),celulas_de_entrada[t].value=localStorage.getItem(`trmprnii-cel${t}`)},salvarDadosAdicionais(){let t=document.querySelectorAll("div.container > header input, footer.linha-de-assinatura input, input[type=date], textarea#nota");for(let e=0;e<t.length;e++)if(t[e].addEventListener("input",()=>{if(localStorage.setItem(`trmprnii-${t[e].id}`,`${t[e].value}`),t[e].matches("#nota")){let a=t[e];a.value.length>0?a.classList.add("bold"):a.classList.remove("bold")}}),t[e].value=localStorage.getItem(`trmprnii-${t[e].id}`),t[e].matches("#nota")){let a=t[e];a.value.length>0?a.classList.add("bold"):a.classList.remove("bold")}},salvarDestaqueDeTotais(){readonlyCelsDarker.addEventListener("change",()=>{readonlyCelsDarker.checked?localStorage.setItem("trmprnii-destaque","on"):localStorage.removeItem("trmprnii-destaque")}),localStorage.getItem("trmprnii-destaque")&&(readonlyCelsDarker.setAttribute("checked",""),menu.destacarFundoDeTotais())}},totalizador={filtrarCelulas(t){if(t.dataset.totaleixox){t.classList.add(`${t.dataset.totaleixox}`);let e=document.querySelectorAll(`.${t.dataset.totaleixox}`),a=document.querySelector(`.${t.dataset.totaleixoxoutput}`);this.totalizarCelulas(e,a)}if(t.dataset.totaleixoy){t.classList.add(`${t.dataset.totaleixoy}`);let l=document.querySelectorAll(`.${t.dataset.totaleixoy}`),s=document.querySelector(`.${t.dataset.totaleixoyoutput}`);this.totalizarCelulas(l,s)}if(t.dataset.totaldeadmissoesc6){t.classList.add(`${t.dataset.totaldeadmissoesc6}`);let o=document.querySelectorAll(`.${t.dataset.totaldeadmissoesc6}`),i=document.querySelector(`.${t.dataset.totaldeadmissoesc6output}`);this.totalizarCelulas(o,i)}if(t.dataset.totaldetransicoes){let r=t.dataset.totaldetransicoes.split("-corte-"),d=document.querySelector(`.${r[0]}`),u=document.querySelector(`.${r[1]}`),n=document.querySelector(`.${r[2]}`),c=document.querySelector(`.${t.dataset.totaldetransicoesoutput}`),m=Number(d.value)+Number(u.value)-n.value;c.value=m;let v=document.querySelectorAll("div.total.de-transicoes input.d"),p=document.querySelector("input.d-c6");this.totalizarCelulas(v,p)}},totalizarCelulas(t,e){let a=0;for(let l of t)a+=Number(l.value);e.value=a}};window.addEventListener("load",()=>{armazenamento.salvarFicha(),armazenamento.salvarDadosAdicionais(),armazenamento.salvarDestaqueDeTotais(),celulas_de_entrada.forEach(t=>{t.addEventListener("input",()=>totalizador.filtrarCelulas(t)),""!==t.value&&totalizador.filtrarCelulas(t)})});